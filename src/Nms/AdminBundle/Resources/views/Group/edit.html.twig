{# src/Nms/AdminBundle/Resources/views/Group/edit.html.twig #}
{% extends 'NmsAdminBundle::layout.html.twig' %}
{% set page_title = 'Group edit' %}

{% block title %}
{{ parent() }} {{page_title}}
{% endblock %}

{% block stylesheets %}
{% endblock %}

{% block pagetitle %} {{page_title}} <small>edit a user role</small>{% endblock %}
{% block breadcrumb %}
<li>
    <a href="{{ path('group_list') }}">Groups</a>
    <i class="icon-angle-right"></i>
</li>
<li>
    <a href="{{ path('group_edit', { 'id': entity.id }) }}">Edit</a>
</li>
{% endblock %}

{% block body -%}
<div class="portlet box green">
    <div class="portlet-title">
        <div class="caption"><i class="icon-group"></i>{{page_title}}</div>
        <div class="actions">
        </div>
    </div>
    <div class="portlet-body form">
        <!-- BEGIN FORM-->
        {{ form_errors(edit_form) }}
        <form action="{{ path('group_update', { 'id': entity.id }) }}" class="form-horizontal"  method="post" {{ form_enctype(edit_form) }}>
            <input type="hidden" name="_method" value="PUT" />
            <div class="row-fluid">
                <div class="span12">
                    <div class="control-group">
                        {{ form_label(edit_form.name, label|default(null), { 'label_attr': { 'class': 'control-label' } }) }}
                        <div class="controls">
                        {{ form_errors(edit_form.name) }}
                        {{ form_widget(edit_form.name, {'attr':{'class':'span8'} }) }}
                        </div>
                    </div>
                </div>
                <!--/span-->
            </div>
            <!--/row-->
            <div class="row-fluid">
                <div class="span12 ">
                    <div class="control-group">
                        {{ form_label(edit_form.role, label|default(null), { 'label_attr': { 'class': 'control-label' } }) }}
                        <div class="controls">
                            {{ form_errors(edit_form.role) }}
                            {{ form_widget(edit_form.role, {'attr':{'class':'span8'} }) }}
                        </div>
                    </div>
                </div>
            </div>
            <!--/row-->
            <div class="row-fluid">
                <div class="span12">
                    <div class="control-group">
                        {{ form_label(edit_form.users, label|default(null), { 'label_attr': { 'class': 'control-label' } }) }}
                        <div class="controls">
                            {{ form_errors(edit_form.users) }}
                            {{ form_widget(edit_form.users, {'attr':{'class':'span8'} }) }}
                        </div>
                    </div>
                </div>
                <!--/span-->
            </div>
            <!--/row-->
            {{ form_rest(edit_form) }}
            <div class="form-actions">
                <button type="submit" class="btn blue" ><i class="icon-ok"></i> Update</button>
                <a href="{{ path('group_list') }}" class="btn black" >Back</a>
        </form>
        <span class="pull-right">
            <form action="{{ path('group_delete', { 'id': entity.id }) }}" method="post">
                <input type="hidden" name="_method" value="DELETE" />
                {{ form_widget(delete_form) }}
                <button class="btn red" type="submit"><i class="icon-trash"></i> Delete</button>
            </form>
        </span>
            </div>
            <!-- This is ugly but it works. The original form is closed 
            and another inserted so that they both appear on the form-actions line-->
            <!-- END FORM-->
    </div>
</div>
{% endblock %}
